<!-- Filter on Top -->
<div *ngIf="showFilters">
  <label class="big">Value : </label>
  <kendo-dropdownlist class="normal" [data]="valueList" (valueChange)="updatePieChart()" [(ngModel)]="filter.value"></kendo-dropdownlist>

  <label class="big">Show By : </label>
  <kendo-dropdownlist class="normal" [data]="showByList" (valueChange)="onFilterChange()" [(ngModel)]="filter.showBy"></kendo-dropdownlist>
</div>

<!-- Main Chart -->
<div>
  <div class="chart" *ngIf="type==chartType.PIE">
    <!-- Pie Chart -->
    <kendo-chart>
      <kendo-chart-series>
        <kendo-chart-legend position="right"></kendo-chart-legend>
        <kendo-chart-area background="transparent" [margin]="-30" [height]="300">
        </kendo-chart-area>
        <kendo-chart-series-item type="pie" [data]="pieData2" field="value" categoryField="category">
          <kendo-chart-series-item-tooltip>
          </kendo-chart-series-item-tooltip>
        </kendo-chart-series-item>
      </kendo-chart-series>
    </kendo-chart>
  </div>
  <div class="chart" *ngIf="type==chartType.DONUT">
    <!-- Donut Chart -->
    <kendo-chart>
      <kendo-chart-series>
        <kendo-chart-legend position="right"></kendo-chart-legend>
        <kendo-chart-area background="transparent" [margin]="-30" [height]="300">
        </kendo-chart-area>
        <kendo-chart-series-item type="donut" [data]="pieData2" field="value" categoryField="category">
          <kendo-chart-series-item-labels [content]="labelContent" color="#fff" background="none">
          </kendo-chart-series-item-labels>
          <kendo-chart-series-item-tooltip>
          </kendo-chart-series-item-tooltip>
        </kendo-chart-series-item>
      </kendo-chart-series>
    </kendo-chart>
  </div>
  <div class="chart" *ngIf="type==Type.FUNNEL">
    <!-- Funnel Chart -->
    <kendo-chart>
      <kendo-chart-area background="transparent" [margin]="30" [height]="300">
      </kendo-chart-area>
      <kendo-chart-series>
        <kendo-chart-series-item type="funnel" [data]="pieData" field="value" categoryField="category">
          <kendo-chart-series-item-labels background="none" color="white" [content]="labelContent">
          </kendo-chart-series-item-labels>
        </kendo-chart-series-item>
      </kendo-chart-series>
      <kendo-chart-tooltip>
        <ng-template kendoChartSeriesTooltipTemplate let-value="value">
          {{ value }}
        </ng-template>
      </kendo-chart-tooltip>
      <kendo-chart-legend position="right"></kendo-chart-legend>
    </kendo-chart>
  </div>
  <div class="chart" style="width: 100%" *ngIf="type==Type.BAR_VERTICAL">
    <!-- Bar Vertical Chart -->
    <kendo-chart>
      <kendo-chart-series>
        <kendo-chart-legend [visible]="false"></kendo-chart-legend>
        <kendo-chart-category-axis>
          <kendo-chart-category-axis-item [labels]="valueAxisLabels">
          </kendo-chart-category-axis-item>
        </kendo-chart-category-axis>
        <kendo-chart-series-item type="column" [data]="pieData" categoryField="category" colorField="blue">
          <kendo-chart-series-item-tooltip>
          </kendo-chart-series-item-tooltip>
        </kendo-chart-series-item>
      </kendo-chart-series>
    </kendo-chart>
  </div>

  <div class="chart" style="width: 100%" *ngIf="type==Type.BAR_HORIZONTAL">
    <!-- Bar Horizontal Chart -->
    <kendo-chart>
      <kendo-chart-series>
        <kendo-chart-legend [visible]="false"></kendo-chart-legend>
        <kendo-chart-value-axis>
          <kendo-chart-value-axis-item [labels]="valueAxisLabels">
          </kendo-chart-value-axis-item>
        </kendo-chart-value-axis>
        <kendo-chart-series-item type="bar" [data]="pieData" categoryField="category" colorField="blue">
          <kendo-chart-series-item-tooltip>
          </kendo-chart-series-item-tooltip>
        </kendo-chart-series-item>
      </kendo-chart-series>
    </kendo-chart>
  </div>
  <div class="chart" style="width: 100%" *ngIf="type==Type.LINE">
    <!-- Line Chart -->
    <kendo-chart>
      <kendo-chart-series>
        <kendo-chart-legend [visible]="false"></kendo-chart-legend>
        <kendo-chart-category-axis>
          <kendo-chart-category-axis-item [labels]="valueAxisLabels">
          </kendo-chart-category-axis-item>
        </kendo-chart-category-axis>
        <kendo-chart-series-item type="line" [data]="pieData" categoryField="category" colorField="blue">
          <kendo-chart-series-item-tooltip>
          </kendo-chart-series-item-tooltip>
        </kendo-chart-series-item>
      </kendo-chart-series>
    </kendo-chart>
  </div>
  <!-- <div class="legend" *ngIf="type==Type.PIE || type==Type.DONUT || type==Type.FUNNEL">
    <app-chart-legend [data]="valueMarks" [title]="filter.showBy"></app-chart-legend>
  </div> -->
</div>
<div class="clearfix" style="margin: 0"></div>
<!-- Filter on Bottom -->
<div>
  <label class="">Currency : </label>
  <kendo-dropdownlist class="ex-small" [data]="currencyList" (valueChange)="onFilterChange()" [(ngModel)]="filter.currency"></kendo-dropdownlist>
  <label class="">From : </label>
  <kendo-datepicker class="small" [format]="'yyyy-MM-dd'" [min]="min_date" [max]="max_date" (valueChange)="onFilterChange()"
    [(ngModel)]="filter.date_from"></kendo-datepicker>
  <label class="">To : </label>
  <kendo-datepicker class="small" [format]="'yyyy-MM-dd'" [min]="min_date" [max]="max_date" (valueChange)="onFilterChange()"
    [(ngModel)]="filter.date_to"></kendo-datepicker>
</div>
